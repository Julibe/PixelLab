# --- File Upload Configuration ---
file_uploads = On
upload_max_filesize = 512M
post_max_size = 512M ; Maximum size of POST data (512 Megabytes)

# --- Resource Limits ---
memory_limit = 512M ; Maximum memory a script can consume (512 Megabytes)
max_execution_time = 180 ; Maximum time a script can run (3 minutes)
max_input_time = 180 ; Maximum time a script can parse input data (3 minutes)
max_input_vars = 5000 ; Handle large/complex forms

# --- Session Management ---
session.gc_maxlifetime = 172800 ; Session lifespan (48 hours)
session.save_path = "/tmp" ; Ensure this path exists and is writable

# --- Performance: OPcache & JIT (Speed) ---
opcache.enable = 1
opcache.memory_consumption = 256 ; Shared memory for script bytecode (MB)
opcache.interned_strings_buffer = 16 ; Memory for string storage (MB)
opcache.max_accelerated_files = 20000 ; Max scripts to cache
opcache.validate_timestamps = 1 ; Check for file changes (0 for Prod, 1 for Dev)
opcache.jit_buffer_size = 100M ; Enable Just-In-Time Compiler (PHP 8+)

# --- Performance: Compression ---
zlib.output_compression = On ; Auto-compress output (GZIP)
zlib.output_compression_level = 6 ; Balance between CPU and compression

# --- Realpath Cache Optimization ---
realpath_cache_size = 4096K ; Cache file paths
realpath_cache_ttl = 7200 ; Cache duration (2 hours)

# --- Error Handling & Logging ---
display_errors = On
error_reporting = E_ALL
log_errors = On
# Note: Relative paths (./) can fail depending on how PHP is started.
# Use an absolute path if logs don't appear (e.g., /var/www/html/.logs/...)
error_log = "./.logs/php_errors.log"

# --- Character Encoding ---
default_charset = "UTF-8"
internal_encoding = "UTF-8"
input_encoding = "UTF-8"
output_encoding = "UTF-8"

mbstring.language = Neutral
mbstring.internal_encoding = "UTF-8"
mbstring.http_input = "UTF-8"

# --- PHP Directives ---
short_open_tag = On
asp_tags = Off

# --- URL Access (Security) ---
allow_url_include = Off
allow_url_fopen = On

# --- Security & Server Info ---
expose_php = Off